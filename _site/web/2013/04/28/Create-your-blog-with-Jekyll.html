<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8"/>
    <meta name="author" content="Tony Tsai" />
    <title>Create Your Blog with Jekyll | Tony Tsai</title>
    <link rel="shortcut icon" href="/media/ttlogo.png">
    <link rel="stylesheet" href="/media/css/style.css">
    <script type="text/javascript" src="/media/js/jquery-2.0.0.min.js"></script>
    <!--- MathJax Configuration -->
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
  </head>
        　
  <body>
    <div id = "container">
      <div id = "main" role = "main">
      	<header>
        <h1>Create Your Blog with Jekyll</h1>
        </header>
        <nav>
        <span><a title = "home page" class = "" href = "http://blog.tonytsai.name/">home</a></span>
        <span><a title = "about" class = "" href = "http://blog.tonytsai.name/about/">about</a></span>
        <span><a title = "categories" class = "" href = "http://blog.tonytsai.name/categories/">categories</a></span>
        <span><a title = "tags" class = "" href = "http://blog.tonytsai.name/tags/">tags</a></span>
        <span><a title = "links" class = "" href = "http://blog.tonytsai.name/links/">links</a></span>
		<span><a title = "reading" class = "" href = "http://blog.tonytsai.name/reading/">reading</a>
		<span><a title = "resume" class = "" href = "http://blog.tonytsai.name/resume/">resume</a></span>
        </nav>
        <article class = "content">
      	<section class="post">
<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="generator" content="pandoc">
  <title></title>
  <style type="text/css">code{white-space: pre;}</style>
  <!--[if lt IE 9]>
    <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
  <![endif]-->
  <style type="text/css">
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; }
code > span.dt { color: #902000; }
code > span.dv { color: #40a070; }
code > span.bn { color: #40a070; }
code > span.fl { color: #40a070; }
code > span.ch { color: #4070a0; }
code > span.st { color: #4070a0; }
code > span.co { color: #60a0b0; font-style: italic; }
code > span.ot { color: #007020; }
code > span.al { color: #ff0000; font-weight: bold; }
code > span.fu { color: #06287e; }
code > span.er { color: #ff0000; font-weight: bold; }
  </style>
</head>
<body>
<p>在使用Jekyll搭建个人blog之前，确认你的PC安装有Jekyll。最简单的安装Jekyll方法是通过RubyGems，RubyGems是Ruby包管理框架。在CentOS 6.4上安装RubyGems和Jekyll的步骤如下：</p>
<h3 id="install-rubygems">Install RubyGems</h3>
<p><em>RubyGems</em> is a package management framework for <em>Ruby</em></p>
<ol type="1">
<li>Install <em>Ruby</em></li>
</ol>
<pre class="sourceCode bash"><code class="sourceCode bash">$ <span class="kw">sudo</span> yum install ruby</code></pre>
<ol start="2" type="1">
<li>Install some <em>Ruby</em> dependancies</li>
</ol>
<pre class="sourceCode bash"><code class="sourceCode bash">$ <span class="kw">sudo</span> yum install ruby-rdoc ruby-devel</code></pre>
<ol start="3" type="1">
<li>Install <em>RubyGems</em></li>
</ol>
<pre class="sourceCode bash"><code class="sourceCode bash">$ <span class="kw">sudo</span> yum install rubygems</code></pre>
<ol start="4" type="1">
<li>Check <em>RubyGems</em> version</li>
</ol>
<pre class="sourceCode bash"><code class="sourceCode bash">$ <span class="kw">gem</span> -v</code></pre>
<ol start="5" type="1">
<li>Update <em>RubyGems</em></li>
</ol>
<pre class="sourceCode bash"><code class="sourceCode bash">$ <span class="kw">sudo</span> gem update --system</code></pre>
<h3 id="install-jekyll">Install Jekyll</h3>
<p><em>Jekyll</em> is a simple, blog-aware, static site generator in Ruby.</p>
<p>Install <em>Jekyll</em> via <em>RubyGems</em></p>
<pre class="sourceCode bash"><code class="sourceCode bash">$ <span class="kw">sudo</span> gem install jekyll</code></pre>
<h3 id="使用jekyll搭建blog">使用Jekyll搭建blog</h3>
<h5 id="创建blog主目录">1. 创建blog主目录</h5>
<p>新建一个目录作为blog的主目录</p>
<pre class="sourceCode bash"><code class="sourceCode bash">$ <span class="kw">mkdir</span> jekyll_blog</code></pre>
<h5 id="创建配置文件">2. 创建配置文件</h5>
<p>在jekyll_blog目录下新建<code>_config.yml</code>文本文件，写入以下内容，其它设置默认。具体设置参见<a href="https://github.com/mojombo/jekyll/wiki/Configuration">Jekyll Configuration</a>。</p>
<pre><code>markdown: pandoc
pandoc: 
    extensions: [mathjax, standalone]
url: http://blog.tonytsai.name
author: Tony Tsai</code></pre>
<h5 id="创建模板文件">3. 创建模板文件</h5>
<p>在jekyll_blog目录下创建<code>_layouts</code>目录，用于存放模板文件</p>
<pre class="sourceCode bash"><code class="sourceCode bash">$ <span class="kw">mkdir</span> _layouts</code></pre>
<p>进入<code>_layouts</code>目录，新建<code>default.html</code>，加入以下代码，作为blog的默认模板。</p>
<table class="sourceCode html numberLines"><tr class="sourceCode"><td class="lineNumbers"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
</pre></td><td class="sourceCode"><pre><code class="sourceCode html"><span class="dt">&lt;!DOCTYPE </span>html<span class="dt">&gt;</span>
<span class="kw">&lt;html&gt;</span>
  <span class="kw">&lt;head&gt;</span>
    <span class="kw">&lt;meta</span><span class="ot"> http-equiv=</span><span class="st">&quot;content-type&quot;</span><span class="ot"> content=</span><span class="st">&quot;text/html; charset=utf-8&quot;</span><span class="kw">/&gt;</span>
    <span class="kw">&lt;title&gt;</span>Create Your Blog with Jekyll<span class="kw">&lt;/title&gt;</span>
  <span class="kw">&lt;/head&gt;</span>
        　
  <span class="kw">&lt;body&gt;</span>
    
    <span class="kw">&lt;footer&gt;</span>
      <span class="dv">&amp;copy;</span> Tony Tsai 2013 | All Rights Reserved.
    <span class="kw">&lt;/footer&gt;</span>
  <span class="kw">&lt;/body&gt;</span>
<span class="kw">&lt;/html&gt;</span></code></pre></td></tr></table>
<p>Jekyll默认使用<a href="https://github.com/shopify/liquid/wiki/liquid-for-designers">Liquid</a>标记语言。Liquid提供两种标记语言：<code>output markup</code>和<code>tag markup</code>，<code>output markup</code>用<code>{{ }}</code>分隔，<code>tag markup</code>用<code>{% %}</code>分隔。<code>page.title</code>和<code>content</code>都是Jekyll提供的<a href="https://github.com/mojombo/jekyll/wiki/Template-Data">模板数据</a>。</p>
<h5 id="创建文章">4. 创建文章</h5>
<p>在jekyll_blog目录下创建<code>_posts</code>目录，用于存放blog文章</p>
<pre class="sourceCode bash"><code class="sourceCode bash">$ <span class="kw">mkdir</span> _posts</code></pre>
<p>进入<code>_posts</code>目录，创建第一篇文章，文件名为<code>2013-04-28-Create-your-blog-with-Jekyll.md</code>。（注：文件名必须为&quot;YYYY-MM-DD-Blog-Title.后缀名&quot;，如果采用<code>html</code>网页，后缀名为<code>html</code>；如果采用<a href="http://daringfireball.net/projects/markdown/">markdown</a>格式，后缀名为<code>md</code>） 在该文件中，写入以下内容：</p>
<table class="sourceCode yaml numberLines"><tr class="sourceCode"><td class="lineNumbers"><pre>1
2
3
4
5
6
7
8
9
10
11
</pre></td><td class="sourceCode"><pre><code class="sourceCode yaml"><span class="ot">---</span>
<span class="fu">layout:</span> post
<span class="fu">title:</span> Create Your Blog With Jekyll
<span class="fu">categories:</span>
<span class="kw">-</span> Web
<span class="fu">tags:</span>
<span class="kw">-</span> Jekyll
<span class="kw">-</span> blog
<span class="ot">---</span>

...content of this markdown file...</code></pre></td></tr></table>
<p>每篇文章的头部必须有<a href="https://github.com/mojombo/jekyll/wiki/YAML-Front-Matter">YAML Front Matter</a>，用来设置一些元数据。它用三根短划线&quot;- - -&quot;标记开始和结束，里面每一行设置一种元数据。&quot;layout: default&quot;表示该文章模板使用<code>_layouts</code>目录下的<code>default.html</code>文件；&quot;title: Create Your Blog With Jekyll&quot;表示该文章标题是&quot;Create Your Blog With Jekyll&quot;，如果不设置<code>title</code>，默认使用文件名作为标题，即&quot;Create your blog with Jekyll&quot;。</p>
<h5 id="创建首页">5. 创建首页</h5>
<p>有了文章之后，还需要一个首页。回到jekyll_blog目录，新建一个<code>index.md</code>文件，内容如下：</p>
<table class="sourceCode yaml numberLines"><tr class="sourceCode"><td class="lineNumbers"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
</pre></td><td class="sourceCode"><pre><code class="sourceCode yaml"><span class="ot">---</span>
<span class="fu">layout:</span> page
<span class="fu">title:</span> Tony Tsai&#39;s Blog
<span class="ot">---</span>

&lt;ul class=&quot;listing&quot;&gt;

<span class="kw">{</span>% for post in site.posts %<span class="kw">}</span>
  <span class="kw">{</span><span class="fu">% capture y %}{{post.date | date:</span>&quot;%Y&quot;<span class="kw">}</span>}<span class="kw">{</span>% endcapture %<span class="kw">}</span>
  <span class="kw">{</span>% if year != y %<span class="kw">}</span>
  <span class="kw">{</span>% assign year = y %<span class="kw">}</span>
  &lt;li class=&quot;listing-seperator&quot;&gt;<span class="kw">{</span>{ y <span class="kw">}</span>}&lt;/li&gt;
  <span class="kw">{</span>% endif %<span class="kw">}</span>
  &lt;li class=&quot;listing-item&quot;&gt;
    <span class="fu">&lt;time datetime=&quot;{{ post.date | date:</span>&quot;%Y-%m-%d&quot;<span class="er"> }}&quot;&gt;{{ post.date | date:&quot;%Y-%m-%d&quot; }}&lt;/time&gt;</span>
    &lt;a href=&quot;{{ site.url }}{{ post.url }}&quot; title=&quot;{{ post.title }}&quot;&gt;<span class="kw">{</span>{ post.title <span class="kw">}</span>}&lt;/a&gt;
  &lt;/li&gt;
<span class="kw">{</span>% endfor %<span class="kw">}</span>

&lt;/ul&gt;</code></pre></td></tr></table>
<p><code>index.md</code>参考<a href="http://yihui.name/cn/">谢益辉中文博客</a>的GitHub<a href="https://github.com/yihui/cn">源码</a>。首页使用default模板，标题为&quot;Tony Tsai's Blog&quot;。<code>{% for post in site.posts %}</code>表示对<code>_posts</code>目录下的所有文章遍历。<!TODO:更多说明></p>
<p>最终目录结构为：</p>
<pre><code>/jekyll_blog
    |--　_config.yml
    |--　_layouts
    |     |--　default.html
    |--　_posts
    |     |--　2013-04-28-Create-your-blog-with-Jekyll.md
    |--　index.md</code></pre>
<h5 id="构建blog网站">6. 构建blog网站</h5>
<p>构建<code>blog</code>网站十分容易，进入<code>jekyll_blog</code>目录，运行<code>jekyll build</code>即可。</p>
<pre class="sourceCode bash"><code class="sourceCode bash">$ <span class="kw">cd</span> jekyll_blog
$ <span class="kw">jekyll</span> build</code></pre>
<p>可以看到blog网站在新建的<code>_site</code>目录中被构建出来。如果直接用浏览器打开<code>_site/index.html</code>文件，点击第一篇文章，发现找不到文件。这是因为文章路径采用了相对路径。但Jekyll内置有服务器，只要运行</p>
<pre class="sourceCode bash"><code class="sourceCode bash">$ <span class="kw">jekyll</span> server</code></pre>
<p>然后在浏览器输入<code>localhost:4000</code>或<code>0.0.0.0:4000</code>地址就可以浏览blog网站了。</p>
<h5 id="发布blog网站">7. 发布blog网站</h5>
<p>如果想别人能够通过互联网访问你的blog网站，你需要有域名和具有独立公网IP的服务器。从个人经济能力出发，域名可以考虑购买适合个人使用、相对便宜的域名，比如<code>.name</code>，<code>.me</code>等；服务器可以考虑购买VPS服务。将<code>_site</code>目录上载到虚拟专用服务器 (Virtual Private Server, VPS)，并将blog的域名绑定到<code>_site</code>目录。</p>
<p>现在你就拥有自己的个人blog了。</p>
</body>
</html>

</section>
<section class="meta">
<span class="author">
  <a href="http://blog.tonytsai.name">Tony Tsai</a>
</span>
<span class="time">
  /
  <time datetime="2013-04-28">2013-04-28</time>
</span>
<br />
<span class="license">
  Published under <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/">(CC) BY-NC-SA</a>
</span>

<span class="categories">
  in categories
  
  <a href="http://blog.tonytsai.name/categories/#web" title="web">web</a>&nbsp;
  
</span>


<span class="tags">
  tagged with 
  
  <a href="http://blog.tonytsai.name/tags/#Jekyll" title="Jekyll">Jekyll</a>&nbsp;
  
  <a href="http://blog.tonytsai.name/tags/#Blog" title="Blog">Blog</a>&nbsp;
  
</span>

</section>
<section class="comment">
<div id="disqus_thread"></div>
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'tonytsai'; // required: replace example with your forum shortname
    var disqus_url = 'http://blog.tonytsai.name/web/2013/04/28/Create-your-blog-with-Jekyll.html';
    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</section>
<script type="text/javascript">
$(function(){
  $(document).keydown(function(e) {
    if (e.target.nodeName.toUpperCase() != 'BODY') return;
    var url = false;
        if (e.which == 37 || e.which == 74) {  // Left arrow and J
            
        }
        else if (e.which == 39 || e.which == 75) {  // Right arrow and K
            
        url = 'http://blog.tonytsai.name/latex/2013/06/07/A-beamer-for-doctoral-english-class-final-presentation.html';
        
        }
        if (url) {
            window.location = url;
        }
  });
})
</script>


      	</article>  
      </div>
      <div id = "footer">
        <p class="licence">Powered by <a href="https://github.com/mojombo/jekyll">Jekyll</a> and <a href="http://johnmacfarlane.net/pandoc">Pandoc</a> | Theme: <a href="http://yihui.name/cn/">yihui's blog</a>.</p>
      </div>
    </div>

    <script type="text/javascript">
      (function(i,s,o,g,r,a,m){
        i['GoogleAnalyticsObject']=r;
        i[r]=i[r]||function(){
          (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();
          a=s.createElement(o),m=s.getElementsByTagName(o)[0];
          a.async=1;
          a.src=g;
          m.parentNode.insertBefore(a,m)})(window,document,'script','//www.google-analytics.com/analytics.js','ga');
          
          ga('create', 'UA-40665800-1', 'tonytsai.name');
          ga('send', 'pageview');
    </script>
  </body>
</html>
