<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>List Operator on Tony Tsai</title>
    <link>http://blog.tonytsai.name/tags/list-operator/index.xml</link>
    <description>Recent content in List Operator on Tony Tsai</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-us</language>
    <atom:link href="http://blog.tonytsai.name/tags/list-operator/index.xml" rel="self" type="application/rss+xml" />
    
    <item>
      <title>Operator for Extracting Named List Elements to Variables</title>
      <link>http://blog.tonytsai.name/blog/2015-05-21-operator-for-extracting-named-list-elements-to-variables/</link>
      <pubDate>Thu, 21 May 2015 23:44:46 -0400</pubDate>
      
      <guid>http://blog.tonytsai.name/blog/2015-05-21-operator-for-extracting-named-list-elements-to-variables/</guid>
      <description>&lt;p&gt;In routine data analysis, I often need to convert list elements into variables. For exampple, when I create a function returning multiple values and I would like to use those values as variables separately, as only one object can be returned by the function, the common way to accomplish this task is that multiple values are combined as a list returned by the function, elements of interest are then extracted and assigned to variables. The following codes describe the process.&lt;/p&gt;
&lt;div class=&#34;highlight&#34; style=&#34;background: #002B36&#34;&gt;&lt;pre style=&#34;line-height: 125%&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span style=&#34;color: #586E75&#34;&gt;# define a function returning a matrix and a numeric&lt;/span&gt;
fun &lt;span style=&#34;color: #719e07&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color: #268BD2&#34;&gt;function&lt;/span&gt;&lt;span style=&#34;color: #93A1A1&#34;&gt;()&lt;/span&gt; &lt;span style=&#34;color: #DC322F&#34;&gt;list&lt;/span&gt;&lt;span style=&#34;color: #93A1A1&#34;&gt;(&lt;/span&gt;a &lt;span style=&#34;color: #719e07&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color: #DC322F&#34;&gt;matrix&lt;/span&gt;&lt;span style=&#34;color: #93A1A1&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color: #2AA198&#34;&gt;1&lt;/span&gt;&lt;span style=&#34;color: #719e07&#34;&gt;:&lt;/span&gt;&lt;span style=&#34;color: #2AA198&#34;&gt;2&lt;/span&gt;&lt;span style=&#34;color: #93A1A1&#34;&gt;,&lt;/span&gt; nr &lt;span style=&#34;color: #719e07&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color: #2AA198&#34;&gt;2&lt;/span&gt;&lt;span style=&#34;color: #93A1A1&#34;&gt;,&lt;/span&gt; nc &lt;span style=&#34;color: #719e07&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color: #2AA198&#34;&gt;1&lt;/span&gt;&lt;span style=&#34;color: #93A1A1&#34;&gt;),&lt;/span&gt; b &lt;span style=&#34;color: #719e07&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color: #2AA198&#34;&gt;2&lt;/span&gt;&lt;span style=&#34;color: #93A1A1&#34;&gt;)&lt;/span&gt;

&lt;span style=&#34;color: #586E75&#34;&gt;# call function to return a list containing multiple returning values&lt;/span&gt;
r &lt;span style=&#34;color: #719e07&#34;&gt;&amp;lt;-&lt;/span&gt; fun&lt;span style=&#34;color: #93A1A1&#34;&gt;()&lt;/span&gt;
&lt;span style=&#34;color: #586E75&#34;&gt;# extract elements of interest and assgin them to variables&lt;/span&gt;
x &lt;span style=&#34;color: #719e07&#34;&gt;&amp;lt;-&lt;/span&gt; r&lt;span style=&#34;color: #719e07&#34;&gt;$&lt;/span&gt;a
y &lt;span style=&#34;color: #719e07&#34;&gt;&amp;lt;-&lt;/span&gt; r&lt;span style=&#34;color: #719e07&#34;&gt;$&lt;/span&gt;b
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;However, when numerous values have to be returned and lots of assignments have to be written down, the process is really cumbersome. One may argue that it&amp;rsquo;s ok to directly use &lt;code&gt;list$element&lt;/code&gt; as a variable, but it can&amp;rsquo;t satisify my geek desire that code should be succinct and is easy to read. The best way is to directly return variables &lt;code&gt;a&lt;/code&gt; and &lt;code&gt;b&lt;/code&gt; in above case, which is the exact way that MATLAB returns multiple values. Rewrite above example in MATLAB.&lt;/p&gt;
&lt;div class=&#34;highlight&#34; style=&#34;background: #002B36&#34;&gt;&lt;pre style=&#34;line-height: 125%&#34;&gt;&lt;span&gt;&lt;/span&gt;# &lt;span style=&#34;color: #93A1A1&#34;&gt;define&lt;/span&gt; &lt;span style=&#34;color: #719e07&#34;&gt;function&lt;/span&gt;
&lt;span style=&#34;color: #719e07&#34;&gt;function&lt;/span&gt;&lt;span style=&#34;color: #93A1A1&#34;&gt; &lt;/span&gt;[a, b] &lt;span style=&#34;color: #93A1A1&#34;&gt;= &lt;/span&gt;&lt;span style=&#34;color: #268BD2&#34;&gt;fun&lt;/span&gt;&lt;span style=&#34;color: #93A1A1&#34;&gt;()&lt;/span&gt;
&lt;span style=&#34;color: #93A1A1&#34;&gt;a(:,&lt;/span&gt; &lt;span style=&#34;color: #2AA198&#34;&gt;1&lt;/span&gt;&lt;span style=&#34;color: #93A1A1&#34;&gt;)&lt;/span&gt; &lt;span style=&#34;color: #93A1A1&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color: #2AA198&#34;&gt;1&lt;/span&gt;&lt;span style=&#34;color: #93A1A1&#34;&gt;:&lt;/span&gt;&lt;span style=&#34;color: #2AA198&#34;&gt;2&lt;/span&gt;
&lt;span style=&#34;color: #93A1A1&#34;&gt;b&lt;/span&gt; &lt;span style=&#34;color: #93A1A1&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color: #2AA198&#34;&gt;2&lt;/span&gt;

# &lt;span style=&#34;color: #93A1A1&#34;&gt;call&lt;/span&gt; &lt;span style=&#34;color: #719e07&#34;&gt;function&lt;/span&gt;
&lt;span style=&#34;color: #93A1A1&#34;&gt;[a,&lt;/span&gt; &lt;span style=&#34;color: #93A1A1&#34;&gt;b]&lt;/span&gt; &lt;span style=&#34;color: #93A1A1&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color: #93A1A1&#34;&gt;fun()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Therefore, we could customize a similar operator in R to implement such assignment. Fortunately, G. Grothendieck has done such &lt;a href=&#34;http://stackoverflow.com/questions/1826519/function-returning-more-than-one-value&#34; target=&#34;_blank&#34;&gt;work&lt;/a&gt; ten years ago. He firstly creates a variable named &lt;code&gt;list&lt;/code&gt;, which is a structure with class attribute of &lt;code&gt;result&lt;/code&gt;, then defines an S3 method &lt;code&gt;[&amp;lt;-.result&lt;/code&gt; of class &lt;code&gt;result&lt;/code&gt;. His solution is as follows&lt;/p&gt;
&lt;div class=&#34;highlight&#34; style=&#34;background: #002B36&#34;&gt;&lt;pre style=&#34;line-height: 125%&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span style=&#34;color: #DC322F&#34;&gt;list&lt;/span&gt; &lt;span style=&#34;color: #719e07&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color: #719e07&#34;&gt;structure&lt;/span&gt;&lt;span style=&#34;color: #93A1A1&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color: #CB4B16&#34;&gt;NA&lt;/span&gt;&lt;span style=&#34;color: #93A1A1&#34;&gt;,&lt;/span&gt; class &lt;span style=&#34;color: #719e07&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color: #2AA198&#34;&gt;&amp;quot;result&amp;quot;&lt;/span&gt;&lt;span style=&#34;color: #93A1A1&#34;&gt;)&lt;/span&gt;
&lt;span style=&#34;color: #2AA198&#34;&gt;&amp;quot;[&amp;lt;-.result&amp;quot;&lt;/span&gt; &lt;span style=&#34;color: #719e07&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color: #268BD2&#34;&gt;function&lt;/span&gt;&lt;span style=&#34;color: #93A1A1&#34;&gt;(&lt;/span&gt;x&lt;span style=&#34;color: #93A1A1&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color: #CB4B16&#34;&gt;...&lt;/span&gt;&lt;span style=&#34;color: #93A1A1&#34;&gt;,&lt;/span&gt; value&lt;span style=&#34;color: #93A1A1&#34;&gt;)&lt;/span&gt; &lt;span style=&#34;color: #93A1A1&#34;&gt;{&lt;/span&gt;
   args &lt;span style=&#34;color: #719e07&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color: #719e07&#34;&gt;as.list&lt;/span&gt;&lt;span style=&#34;color: #93A1A1&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color: #719e07&#34;&gt;match.call&lt;/span&gt;&lt;span style=&#34;color: #93A1A1&#34;&gt;())&lt;/span&gt;
   args &lt;span style=&#34;color: #719e07&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color: #719e07&#34;&gt;args&lt;/span&gt;&lt;span style=&#34;color: #93A1A1&#34;&gt;[&lt;/span&gt;&lt;span style=&#34;color: #719e07&#34;&gt;-&lt;/span&gt;&lt;span style=&#34;color: #DC322F&#34;&gt;c&lt;/span&gt;&lt;span style=&#34;color: #93A1A1&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color: #2AA198&#34;&gt;1&lt;/span&gt;&lt;span style=&#34;color: #719e07&#34;&gt;:&lt;/span&gt;&lt;span style=&#34;color: #2AA198&#34;&gt;2&lt;/span&gt;&lt;span style=&#34;color: #93A1A1&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color: #719e07&#34;&gt;length&lt;/span&gt;&lt;span style=&#34;color: #93A1A1&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color: #719e07&#34;&gt;args&lt;/span&gt;&lt;span style=&#34;color: #93A1A1&#34;&gt;))]&lt;/span&gt;
   &lt;span style=&#34;color: #719e07&#34;&gt;length&lt;/span&gt;&lt;span style=&#34;color: #93A1A1&#34;&gt;(&lt;/span&gt;value&lt;span style=&#34;color: #93A1A1&#34;&gt;)&lt;/span&gt; &lt;span style=&#34;color: #719e07&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color: #719e07&#34;&gt;length&lt;/span&gt;&lt;span style=&#34;color: #93A1A1&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color: #719e07&#34;&gt;args&lt;/span&gt;&lt;span style=&#34;color: #93A1A1&#34;&gt;)&lt;/span&gt;
   &lt;span style=&#34;color: #268BD2&#34;&gt;for&lt;/span&gt;&lt;span style=&#34;color: #93A1A1&#34;&gt;(&lt;/span&gt;i &lt;span style=&#34;color: #268BD2&#34;&gt;in&lt;/span&gt; &lt;span style=&#34;color: #719e07&#34;&gt;seq&lt;/span&gt;&lt;span style=&#34;color: #93A1A1&#34;&gt;(&lt;/span&gt;along &lt;span style=&#34;color: #719e07&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color: #719e07&#34;&gt;args&lt;/span&gt;&lt;span style=&#34;color: #93A1A1&#34;&gt;))&lt;/span&gt; &lt;span style=&#34;color: #93A1A1&#34;&gt;{&lt;/span&gt;
     a &lt;span style=&#34;color: #719e07&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color: #719e07&#34;&gt;args&lt;/span&gt;&lt;span style=&#34;color: #93A1A1&#34;&gt;[[&lt;/span&gt;i&lt;span style=&#34;color: #93A1A1&#34;&gt;]]&lt;/span&gt;
     &lt;span style=&#34;color: #268BD2&#34;&gt;if&lt;/span&gt;&lt;span style=&#34;color: #93A1A1&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color: #719e07&#34;&gt;!missing&lt;/span&gt;&lt;span style=&#34;color: #93A1A1&#34;&gt;(&lt;/span&gt;a&lt;span style=&#34;color: #93A1A1&#34;&gt;))&lt;/span&gt; &lt;span style=&#34;color: #719e07&#34;&gt;eval.parent&lt;/span&gt;&lt;span style=&#34;color: #93A1A1&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color: #719e07&#34;&gt;substitute&lt;/span&gt;&lt;span style=&#34;color: #93A1A1&#34;&gt;(&lt;/span&gt;a &lt;span style=&#34;color: #719e07&#34;&gt;&amp;lt;-&lt;/span&gt; v&lt;span style=&#34;color: #93A1A1&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color: #DC322F&#34;&gt;list&lt;/span&gt;&lt;span style=&#34;color: #93A1A1&#34;&gt;(&lt;/span&gt;a &lt;span style=&#34;color: #719e07&#34;&gt;=&lt;/span&gt; a&lt;span style=&#34;color: #93A1A1&#34;&gt;,&lt;/span&gt; v &lt;span style=&#34;color: #719e07&#34;&gt;=&lt;/span&gt; value&lt;span style=&#34;color: #93A1A1&#34;&gt;[[&lt;/span&gt;i&lt;span style=&#34;color: #93A1A1&#34;&gt;]])))&lt;/span&gt;
   &lt;span style=&#34;color: #93A1A1&#34;&gt;}&lt;/span&gt;
   x
&lt;span style=&#34;color: #93A1A1&#34;&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Applying G. Grothendieck&amp;rsquo;s solution to the above case is as simple as following&lt;/p&gt;
&lt;div class=&#34;highlight&#34; style=&#34;background: #002B36&#34;&gt;&lt;pre style=&#34;line-height: 125%&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span style=&#34;color: #586E75&#34;&gt;# extract all variables&lt;/span&gt;
&lt;span style=&#34;color: #DC322F&#34;&gt;list&lt;/span&gt;&lt;span style=&#34;color: #93A1A1&#34;&gt;[&lt;/span&gt;a&lt;span style=&#34;color: #93A1A1&#34;&gt;,&lt;/span&gt; b&lt;span style=&#34;color: #93A1A1&#34;&gt;]&lt;/span&gt; &lt;span style=&#34;color: #719e07&#34;&gt;&amp;lt;-&lt;/span&gt; fun&lt;span style=&#34;color: #93A1A1&#34;&gt;()&lt;/span&gt;

&lt;span style=&#34;color: #586E75&#34;&gt;# extract first variable without renaming&lt;/span&gt;
&lt;span style=&#34;color: #DC322F&#34;&gt;list&lt;/span&gt;&lt;span style=&#34;color: #93A1A1&#34;&gt;[&lt;/span&gt;a&lt;span style=&#34;color: #93A1A1&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color: #93A1A1&#34;&gt;]&lt;/span&gt; &lt;span style=&#34;color: #719e07&#34;&gt;&amp;lt;-&lt;/span&gt; fun&lt;span style=&#34;color: #93A1A1&#34;&gt;()&lt;/span&gt;

&lt;span style=&#34;color: #586E75&#34;&gt;# extract second variable with renaming&lt;/span&gt;
&lt;span style=&#34;color: #DC322F&#34;&gt;list&lt;/span&gt;&lt;span style=&#34;color: #93A1A1&#34;&gt;[,&lt;/span&gt; y&lt;span style=&#34;color: #93A1A1&#34;&gt;]&lt;/span&gt; &lt;span style=&#34;color: #719e07&#34;&gt;&amp;lt;-&lt;/span&gt; fun&lt;span style=&#34;color: #93A1A1&#34;&gt;()&lt;/span&gt;

&lt;span style=&#34;color: #586E75&#34;&gt;# extract all variable with renaming&lt;/span&gt;
&lt;span style=&#34;color: #DC322F&#34;&gt;list&lt;/span&gt;&lt;span style=&#34;color: #93A1A1&#34;&gt;[&lt;/span&gt;x&lt;span style=&#34;color: #93A1A1&#34;&gt;,&lt;/span&gt; y&lt;span style=&#34;color: #93A1A1&#34;&gt;]&lt;/span&gt; &lt;span style=&#34;color: #719e07&#34;&gt;&amp;lt;-&lt;/span&gt; fun&lt;span style=&#34;color: #93A1A1&#34;&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;This operator is exactly what I want; however, it can be improved in two cases: one is that there are numerous variables to be extracted, the other is that only elements of interest are explicitly extracted while the other elements can be extracted in a silent way. Hence, I modified &lt;code&gt;[&amp;lt;-.result()&lt;/code&gt; to make it more easy to use in these two cases. The following are modified codes&lt;/p&gt;
&lt;div class=&#34;highlight&#34; style=&#34;background: #002B36&#34;&gt;&lt;pre style=&#34;line-height: 125%&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span style=&#34;color: #2AA198&#34;&gt;&amp;quot;[&amp;lt;-.result&amp;quot;&lt;/span&gt; &lt;span style=&#34;color: #719e07&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color: #268BD2&#34;&gt;function&lt;/span&gt;&lt;span style=&#34;color: #93A1A1&#34;&gt;(&lt;/span&gt;x&lt;span style=&#34;color: #93A1A1&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color: #CB4B16&#34;&gt;...&lt;/span&gt;&lt;span style=&#34;color: #93A1A1&#34;&gt;,&lt;/span&gt; value&lt;span style=&#34;color: #93A1A1&#34;&gt;)&lt;/span&gt; &lt;span style=&#34;color: #93A1A1&#34;&gt;{&lt;/span&gt;
  nv &lt;span style=&#34;color: #719e07&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color: #719e07&#34;&gt;names&lt;/span&gt;&lt;span style=&#34;color: #93A1A1&#34;&gt;(&lt;/span&gt;value&lt;span style=&#34;color: #93A1A1&#34;&gt;)&lt;/span&gt;
  args &lt;span style=&#34;color: #719e07&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color: #719e07&#34;&gt;as.list&lt;/span&gt;&lt;span style=&#34;color: #93A1A1&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color: #719e07&#34;&gt;match.call&lt;/span&gt;&lt;span style=&#34;color: #93A1A1&#34;&gt;())&lt;/span&gt;
  args &lt;span style=&#34;color: #719e07&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color: #719e07&#34;&gt;args&lt;/span&gt;&lt;span style=&#34;color: #93A1A1&#34;&gt;[&lt;/span&gt;&lt;span style=&#34;color: #719e07&#34;&gt;-&lt;/span&gt;&lt;span style=&#34;color: #DC322F&#34;&gt;c&lt;/span&gt;&lt;span style=&#34;color: #93A1A1&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color: #2AA198&#34;&gt;1&lt;/span&gt;&lt;span style=&#34;color: #719e07&#34;&gt;:&lt;/span&gt;&lt;span style=&#34;color: #2AA198&#34;&gt;2&lt;/span&gt;&lt;span style=&#34;color: #93A1A1&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color: #719e07&#34;&gt;length&lt;/span&gt;&lt;span style=&#34;color: #93A1A1&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color: #719e07&#34;&gt;args&lt;/span&gt;&lt;span style=&#34;color: #93A1A1&#34;&gt;))]&lt;/span&gt;
  all &lt;span style=&#34;color: #719e07&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color: #CB4B16&#34;&gt;FALSE&lt;/span&gt;
  &lt;span style=&#34;color: #268BD2&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color: #93A1A1&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color: #2AA198&#34;&gt;&amp;quot;all&amp;quot;&lt;/span&gt; &lt;span style=&#34;color: #719e07&#34;&gt;%in%&lt;/span&gt; &lt;span style=&#34;color: #719e07&#34;&gt;names&lt;/span&gt;&lt;span style=&#34;color: #93A1A1&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color: #719e07&#34;&gt;args&lt;/span&gt;&lt;span style=&#34;color: #93A1A1&#34;&gt;))&lt;/span&gt; &lt;span style=&#34;color: #93A1A1&#34;&gt;{&lt;/span&gt;
    all &lt;span style=&#34;color: #719e07&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color: #719e07&#34;&gt;args&lt;/span&gt;&lt;span style=&#34;color: #93A1A1&#34;&gt;[[&lt;/span&gt;&lt;span style=&#34;color: #2AA198&#34;&gt;&amp;quot;all&amp;quot;&lt;/span&gt;&lt;span style=&#34;color: #93A1A1&#34;&gt;]]&lt;/span&gt;
    &lt;span style=&#34;color: #719e07&#34;&gt;stopifnot&lt;/span&gt;&lt;span style=&#34;color: #93A1A1&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color: #719e07&#34;&gt;is.logical&lt;/span&gt;&lt;span style=&#34;color: #93A1A1&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color: #719e07&#34;&gt;all&lt;/span&gt;&lt;span style=&#34;color: #93A1A1&#34;&gt;))&lt;/span&gt;
    &lt;span style=&#34;color: #719e07&#34;&gt;args&lt;/span&gt;&lt;span style=&#34;color: #93A1A1&#34;&gt;[&lt;/span&gt;&lt;span style=&#34;color: #2AA198&#34;&gt;&amp;quot;all&amp;quot;&lt;/span&gt;&lt;span style=&#34;color: #93A1A1&#34;&gt;]&lt;/span&gt; &lt;span style=&#34;color: #719e07&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color: #CB4B16&#34;&gt;NULL&lt;/span&gt;
  &lt;span style=&#34;color: #93A1A1&#34;&gt;}&lt;/span&gt;
  drop &lt;span style=&#34;color: #719e07&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color: #CB4B16&#34;&gt;TRUE&lt;/span&gt;
  &lt;span style=&#34;color: #268BD2&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color: #93A1A1&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color: #2AA198&#34;&gt;&amp;quot;drop&amp;quot;&lt;/span&gt; &lt;span style=&#34;color: #719e07&#34;&gt;%in%&lt;/span&gt; &lt;span style=&#34;color: #719e07&#34;&gt;names&lt;/span&gt;&lt;span style=&#34;color: #93A1A1&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color: #719e07&#34;&gt;args&lt;/span&gt;&lt;span style=&#34;color: #93A1A1&#34;&gt;))&lt;/span&gt; &lt;span style=&#34;color: #93A1A1&#34;&gt;{&lt;/span&gt;
    drop &lt;span style=&#34;color: #719e07&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color: #719e07&#34;&gt;args&lt;/span&gt;&lt;span style=&#34;color: #93A1A1&#34;&gt;[[&lt;/span&gt;&lt;span style=&#34;color: #2AA198&#34;&gt;&amp;quot;drop&amp;quot;&lt;/span&gt;&lt;span style=&#34;color: #93A1A1&#34;&gt;]]&lt;/span&gt;
    &lt;span style=&#34;color: #719e07&#34;&gt;stopifnot&lt;/span&gt;&lt;span style=&#34;color: #93A1A1&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color: #719e07&#34;&gt;is.logical&lt;/span&gt;&lt;span style=&#34;color: #93A1A1&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color: #719e07&#34;&gt;drop&lt;/span&gt;&lt;span style=&#34;color: #93A1A1&#34;&gt;))&lt;/span&gt;
    &lt;span style=&#34;color: #719e07&#34;&gt;args&lt;/span&gt;&lt;span style=&#34;color: #93A1A1&#34;&gt;[&lt;/span&gt;&lt;span style=&#34;color: #2AA198&#34;&gt;&amp;quot;drop&amp;quot;&lt;/span&gt;&lt;span style=&#34;color: #93A1A1&#34;&gt;]&lt;/span&gt; &lt;span style=&#34;color: #719e07&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color: #CB4B16&#34;&gt;NULL&lt;/span&gt;
  &lt;span style=&#34;color: #93A1A1&#34;&gt;}&lt;/span&gt;

  &lt;span style=&#34;color: #268BD2&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color: #93A1A1&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color: #719e07&#34;&gt;length&lt;/span&gt;&lt;span style=&#34;color: #93A1A1&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color: #719e07&#34;&gt;args&lt;/span&gt;&lt;span style=&#34;color: #93A1A1&#34;&gt;)&lt;/span&gt; &lt;span style=&#34;color: #719e07&#34;&gt;==&lt;/span&gt; &lt;span style=&#34;color: #2AA198&#34;&gt;1&lt;/span&gt;&lt;span style=&#34;color: #93A1A1&#34;&gt;)&lt;/span&gt; args &lt;span style=&#34;color: #719e07&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color: #719e07&#34;&gt;sapply&lt;/span&gt;&lt;span style=&#34;color: #93A1A1&#34;&gt;(&lt;/span&gt;nv&lt;span style=&#34;color: #93A1A1&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color: #719e07&#34;&gt;as.name&lt;/span&gt;&lt;span style=&#34;color: #93A1A1&#34;&gt;)&lt;/span&gt;
  &lt;span style=&#34;color: #268BD2&#34;&gt;for&lt;/span&gt; &lt;span style=&#34;color: #93A1A1&#34;&gt;(&lt;/span&gt;i &lt;span style=&#34;color: #268BD2&#34;&gt;in&lt;/span&gt; &lt;span style=&#34;color: #719e07&#34;&gt;seq&lt;/span&gt;&lt;span style=&#34;color: #93A1A1&#34;&gt;(&lt;/span&gt;along &lt;span style=&#34;color: #719e07&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color: #719e07&#34;&gt;args&lt;/span&gt;&lt;span style=&#34;color: #93A1A1&#34;&gt;))&lt;/span&gt; &lt;span style=&#34;color: #93A1A1&#34;&gt;{&lt;/span&gt;
    a &lt;span style=&#34;color: #719e07&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color: #719e07&#34;&gt;args&lt;/span&gt;&lt;span style=&#34;color: #93A1A1&#34;&gt;[[&lt;/span&gt;i&lt;span style=&#34;color: #93A1A1&#34;&gt;]]&lt;/span&gt;
    &lt;span style=&#34;color: #268BD2&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color: #93A1A1&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color: #719e07&#34;&gt;missing&lt;/span&gt;&lt;span style=&#34;color: #93A1A1&#34;&gt;(&lt;/span&gt;a&lt;span style=&#34;color: #93A1A1&#34;&gt;))&lt;/span&gt; &lt;span style=&#34;color: #93A1A1&#34;&gt;{&lt;/span&gt;
      &lt;span style=&#34;color: #268BD2&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color: #93A1A1&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color: #719e07&#34;&gt;all&lt;/span&gt;&lt;span style=&#34;color: #93A1A1&#34;&gt;)&lt;/span&gt; a &lt;span style=&#34;color: #719e07&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color: #719e07&#34;&gt;as.name&lt;/span&gt;&lt;span style=&#34;color: #93A1A1&#34;&gt;(&lt;/span&gt;nv&lt;span style=&#34;color: #93A1A1&#34;&gt;[&lt;/span&gt;i&lt;span style=&#34;color: #93A1A1&#34;&gt;])&lt;/span&gt; &lt;span style=&#34;color: #268BD2&#34;&gt;else&lt;/span&gt; &lt;span style=&#34;color: #268BD2&#34;&gt;next&lt;/span&gt;
    &lt;span style=&#34;color: #93A1A1&#34;&gt;}&lt;/span&gt;
    &lt;span style=&#34;color: #268BD2&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color: #93A1A1&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color: #719e07&#34;&gt;drop&lt;/span&gt;&lt;span style=&#34;color: #93A1A1&#34;&gt;)&lt;/span&gt; v &lt;span style=&#34;color: #719e07&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color: #719e07&#34;&gt;drop&lt;/span&gt;&lt;span style=&#34;color: #93A1A1&#34;&gt;(&lt;/span&gt;value&lt;span style=&#34;color: #93A1A1&#34;&gt;[[&lt;/span&gt;i&lt;span style=&#34;color: #93A1A1&#34;&gt;]])&lt;/span&gt; &lt;span style=&#34;color: #268BD2&#34;&gt;else&lt;/span&gt; v &lt;span style=&#34;color: #719e07&#34;&gt;&amp;lt;-&lt;/span&gt; value&lt;span style=&#34;color: #93A1A1&#34;&gt;[[&lt;/span&gt;i&lt;span style=&#34;color: #93A1A1&#34;&gt;]]&lt;/span&gt;
    &lt;span style=&#34;color: #719e07&#34;&gt;eval.parent&lt;/span&gt;&lt;span style=&#34;color: #93A1A1&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color: #719e07&#34;&gt;substitute&lt;/span&gt;&lt;span style=&#34;color: #93A1A1&#34;&gt;(&lt;/span&gt;a &lt;span style=&#34;color: #719e07&#34;&gt;&amp;lt;-&lt;/span&gt; v&lt;span style=&#34;color: #93A1A1&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color: #DC322F&#34;&gt;list&lt;/span&gt;&lt;span style=&#34;color: #93A1A1&#34;&gt;(&lt;/span&gt;a &lt;span style=&#34;color: #719e07&#34;&gt;=&lt;/span&gt; a&lt;span style=&#34;color: #93A1A1&#34;&gt;,&lt;/span&gt; v &lt;span style=&#34;color: #719e07&#34;&gt;=&lt;/span&gt; v&lt;span style=&#34;color: #93A1A1&#34;&gt;)))&lt;/span&gt;
  &lt;span style=&#34;color: #93A1A1&#34;&gt;}&lt;/span&gt;
  x
&lt;span style=&#34;color: #93A1A1&#34;&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;My modification not only keeps the usages created by G. Grothendieck, but also adds two extra parameters (&lt;code&gt;all&lt;/code&gt; and &lt;code&gt;drop&lt;/code&gt;) and changes the returning results of &lt;code&gt;list[] &amp;lt;- value&lt;/code&gt;.In G. Grothendieck&amp;rsquo;s solution, calling &lt;code&gt;list[] &amp;lt;- fun()&lt;/code&gt; will not return any variables, but in my version, it will return all varaibles correspoding the list elements. The advantage of my solution is to avoid inputting all variables when there are two numerous named list elements.&lt;/p&gt;

&lt;p&gt;The default for parameter &lt;code&gt;all&lt;/code&gt; is &lt;code&gt;FALSE&lt;/code&gt; to keep the calling way as G. Grothendieck. Setting &lt;code&gt;all = TRUE&lt;/code&gt; can extract all list elements to variables even you only input partial variable names. The elements without inputting variable names will use the element names as variable names. This is the reason why the list elements are named. This sort usage can reduce amount of inputting variable names in case extra list elements needs to be extracted to variables.&lt;/p&gt;

&lt;p&gt;Notice that in above example, list element &lt;code&gt;a&lt;/code&gt; is a matrix with the second dimenion which has only one level. Adding parameter &lt;code&gt;drop&lt;/code&gt; can simutaniously drop the redundant dimension during the variable extraction. This sort usage avoids an extra &lt;code&gt;drop()&lt;/code&gt; operation to keep the extracted variable simple. The default value for argument &lt;code&gt;drop&lt;/code&gt; is &lt;code&gt;TRUE&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;The following codes demonstrate the new usages of modified &lt;code&gt;[&amp;lt;-.result()&lt;/code&gt;.&lt;/p&gt;
&lt;div class=&#34;highlight&#34; style=&#34;background: #002B36&#34;&gt;&lt;pre style=&#34;line-height: 125%&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span style=&#34;color: #586E75&#34;&gt;# implicitly extract all variabes without renaming. note that by default&lt;/span&gt;
&lt;span style=&#34;color: #586E75&#34;&gt;# dimensions are dropped.&lt;/span&gt;
&lt;span style=&#34;color: #DC322F&#34;&gt;list&lt;/span&gt;&lt;span style=&#34;color: #93A1A1&#34;&gt;[]&lt;/span&gt; &lt;span style=&#34;color: #719e07&#34;&gt;&amp;lt;-&lt;/span&gt; fun&lt;span style=&#34;color: #93A1A1&#34;&gt;()&lt;/span&gt;  &lt;span style=&#34;color: #586E75&#34;&gt;# return a = 1, b = 2&lt;/span&gt;

&lt;span style=&#34;color: #586E75&#34;&gt;# set drop to FALSE without dimension dropping&lt;/span&gt;
&lt;span style=&#34;color: #DC322F&#34;&gt;list&lt;/span&gt;&lt;span style=&#34;color: #93A1A1&#34;&gt;[&lt;/span&gt;x&lt;span style=&#34;color: #93A1A1&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color: #93A1A1&#34;&gt;,&lt;/span&gt; drop &lt;span style=&#34;color: #719e07&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color: #CB4B16&#34;&gt;FALSE&lt;/span&gt;&lt;span style=&#34;color: #93A1A1&#34;&gt;]&lt;/span&gt; &lt;span style=&#34;color: #719e07&#34;&gt;&amp;lt;-&lt;/span&gt; fun&lt;span style=&#34;color: #93A1A1&#34;&gt;()&lt;/span&gt;  &lt;span style=&#34;color: #586E75&#34;&gt;# return matrix x&lt;/span&gt;

&lt;span style=&#34;color: #586E75&#34;&gt;# set all to TRUE to extract all elements.&lt;/span&gt;
&lt;span style=&#34;color: #DC322F&#34;&gt;list&lt;/span&gt;&lt;span style=&#34;color: #93A1A1&#34;&gt;[&lt;/span&gt;x&lt;span style=&#34;color: #93A1A1&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color: #93A1A1&#34;&gt;,&lt;/span&gt; all &lt;span style=&#34;color: #719e07&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color: #CB4B16&#34;&gt;TRUE&lt;/span&gt;&lt;span style=&#34;color: #93A1A1&#34;&gt;]&lt;/span&gt; &lt;span style=&#34;color: #719e07&#34;&gt;&amp;lt;-&lt;/span&gt; fun&lt;span style=&#34;color: #93A1A1&#34;&gt;()&lt;/span&gt;  &lt;span style=&#34;color: #586E75&#34;&gt;# return x = 1, b = 2&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;The modified codes have been packaged into my package &lt;a href=&#34;https://github.com/caijun/TTmisc&#34; target=&#34;_blank&#34;&gt;TTmisc&lt;/a&gt;. For more examples of usage and details refer to the repository &lt;a href=&#34;(https://github.com/caijun/TTmisc)&#34; target=&#34;_blank&#34;&gt;TTmisc&lt;/a&gt; on my github.&lt;/p&gt;

&lt;p&gt;At last, it is important to note that the right side of assignment can be just a list object with named elements. It is not necessary to be a function calling. Here, I use function calling only for demonstration.&lt;/p&gt;
</description>
    </item>
    
  </channel>
</rss>